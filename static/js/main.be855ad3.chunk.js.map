{"version":3,"sources":["Components/Footer.tsx","Components/Header.tsx","Components/Canvas.tsx","Tiles/tile_0.png","Tiles/tile_1.png","Tiles/tile_2.png","Tiles/tile_3.png","CustomHooks/useAnimationFrame.tsx","Components/Slider.tsx","Components/SliderWithLabel.tsx","Components/ColorPicker.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Footer","className","href","title","aria-label","target","rel","xmlns","viewBox","d","Header","TILES","Canvas","forwardRef","ref","speed","backgroundColorClass","nbTilesWidth","canvasRef","useRef","tilesRef","callback","requestRef","previousTimeRef","animate","time","undefined","current","deltaTime","requestAnimationFrame","stop","cancelAnimationFrame","play","useEffect","useAnimationFrame","context","getContext","newTiles","map","tile","x","y","vx","vy","width","height","newX","newY","newVx","newVy","widthCanvas","heightCanvas","moveAndCheckCollision","move","moves","clearRect","forEach","image","save","drawImage","restore","renderArtwork","generateArtwork","widthTile","heightTile","promises","strategyName","sample","Image","src","imageIndex","Math","floor","random","length","pickImage","promise","Promise","resolve","reject","onload","computeVelocityByStrategy","push","all","then","tiles","parentElement","offsetWidth","useImperativeHandle","pause","resetPosition","index","resetAll","Slider","value","onChange","min","max","step","type","event","SliderWithLabel","label","COLORS","VARIANTS","ColorPicker","initialColorClass","useState","currentColorClass","setCurrentColorClass","isOpen","setIsOpen","iconColorClass","setIconColorClass","id","disabled","onClick","fill","stroke","stroke-linecap","stroke-linejoin","stroke-width","onClickAway","color","variant","selectColor","App","setSpeed","setPlay","setBackgroundClass","setNbTileWidth","canvasActionsRef","colorClass","parseInt","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be855ad3.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer bg-base-300 text-base-content footer-center p-5 rounded-xl\">\n      <div>\n        <p> 2021 - Made By Guillaume Gomez</p>\n        <a href=\"https://github.com/guillaume-gomez/wasm-game-of-life\" className=\"text-xs\">Did you enjoyed ? 😊 Star the project </a>\n        <div title=\"Github ↗︎\" className=\"items-center flex-none\">\n          <a aria-label=\"Github\" target=\"_blank\" href=\"https://github.com/guillaume-gomez/tile-and-square\" rel=\"noopener\" className=\"normal-case btn btn-primary drawer-button btn-square\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" className=\"inline-block w-6 h-6 fill-current\">\n              <path d=\"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z\">\n              </path>\n            </svg>\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction Header() {\n  return (\n    <div className=\"navbar mb-2 shadow-lg bg-base-300 text-neutral-content rounded-box\">\n      <div className=\"flex-1 px-2 mx-2\">\n        <span className=\"text-lg font-bold\">\n         Tile and Square\n        </span>\n      </div> \n      <div className=\"flex-none\">\n         <div title=\"Github ↗︎\" className=\"items-center flex-none\"><a aria-label=\"Github\" target=\"_blank\" href=\"https://github.com/guillaume-gomez/tile-and-square\" rel=\"noopener\" className=\"normal-case btn btn-primary drawer-button btn-square\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" className=\"inline-block w-6 h-6 fill-current\"><path d=\"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z\"></path></svg></a></div>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","/* eslint-disable react/prop-types */\nimport React, { useRef, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport useAnimationFrame from \"../CustomHooks/useAnimationFrame\";\nimport { sample } from \"lodash\";\nimport { TileData, strategyType, ExternalActionInterface } from \"../interfaces\";\n\nimport tile_zero from \"../Tiles/tile_0.png\";\nimport tile_one from \"../Tiles/tile_1.png\";\nimport tile_second from \"../Tiles/tile_2.png\";\nimport tile_third from \"../Tiles/tile_3.png\";\n\n\nconst TILES = [tile_zero, tile_one, tile_second, tile_third];\n\n\ninterface EngineInterface {\n  x: number;\n  y: number;\n  vx: number;\n  vy: number;\n}\n\ninterface CanvasInterface {\n  speed: number;\n  backgroundColorClass: string;\n  nbTilesWidth: number\n}\n\nconst Canvas = forwardRef<ExternalActionInterface, CanvasInterface>(({speed, backgroundColorClass, nbTilesWidth }, ref) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const tilesRef = useRef<TileData[]>([]);\n  const { play, stop } = useAnimationFrame(animate);\n\n  useEffect(() => {\n    const { current } = canvasRef;\n    if(current) {\n      current.width = current.parentElement!.offsetWidth / 2;\n      current.height = current.parentElement!.offsetWidth / 2;\n      generateArtwork();\n    }\n  }, []);\n\n  useEffect(() => {\n    stop();\n    play();\n  }, [speed])\n\n\n  useEffect(() => {\n    generateArtwork();\n  }, [nbTilesWidth])\n\n\n  useImperativeHandle(ref, () => ({\n      play() {\n        play();\n      },\n\n      pause() {\n        stop();\n      },\n\n      resetPosition() {\n        resetPosition();\n      },\n\n      resetAll() {\n        generateArtwork();\n      }\n    }));\n\n  function computeVelocityByStrategy(strategyName: strategyType) : [number, number] {\n    switch(strategyName) {\n      case \"horizontal\":\n      default:\n        return [0.1, 0.0];\n      case \"vertical\":\n        return [0.0, 0.1];\n      case \"southEast\":\n        return [0.1, 0.1];\n      case \"northEast\":\n        return [-0.1, 0.1];\n      case \"southWest\":\n        return [0.1, -0.1];\n      case \"northWest\":\n        return [-0.1, -0.1];\n    }\n  }\n\n  function animate(deltaTime: number) {\n    if(canvasRef.current) {\n      const context = canvasRef.current.getContext(\"2d\");\n      moves(deltaTime);\n      renderArtwork(context);\n    }\n  }\n\n  function generateArtwork() {\n    const { width, height } = canvasRef.current!;\n    const widthTile = width / nbTilesWidth;\n    const heightTile = height / nbTilesWidth;\n\n    const tiles : TileData[] = [];\n    const promises = [];\n\n    const strategyName = sample([\"horizontal\",\"vertical\", \"southEast\", \"northEast\" , \"southWest\" , \"northWest\"]) as strategyType;\n\n    for(let x = 0; x < width; x += widthTile) {\n      for(let y = 0; y < height; y += heightTile) {\n\n        const image = new Image();\n        image.src = pickImage();\n        const promise = new Promise((resolve, reject) => { \n          image.onload = () => {\n            const [vx, vy] = computeVelocityByStrategy(strategyName);\n            resolve({x, y , vx, vy, width: widthTile, height: heightTile, image });\n          }\n        });\n        promises.push(promise);\n      }\n    }\n\n    Promise.all(promises)\n    .then(\n      (tiles) => {\n        tilesRef.current = tiles as TileData[];\n    });\n  }\n\n  function resetPosition() {\n    if(tilesRef.current.length === 0) {\n      return;\n    }\n\n    const { width, height } = canvasRef.current!;\n    const widthTile = width  / nbTilesWidth;\n    const heightTile = height / nbTilesWidth;\n\n    const tiles : TileData[] = []\n    let index = 0;\n    for(let x = 0; x < width; x += widthTile) {\n      for(let y = 0; y < height; y += heightTile) {\n        tiles.push({...tilesRef.current[index], x, y });\n        index += index;\n      }\n    }\n    tilesRef.current = tiles;\n  }\n\n  function pickImage() : string {\n    const imageIndex = Math.floor(Math.random() * TILES.length);\n    return TILES[imageIndex];\n  }\n\n  function moves(deltaTime: number) {\n    const newTiles = tilesRef.current.map(tile => move(tile, deltaTime));\n    tilesRef.current = newTiles;\n  }\n\n  function move(tile: TileData, deltaTime: number) : TileData {\n    const { x, y, vx, vy } = moveAndCheckCollision(tile, deltaTime);\n    return { ...tile, x, y, vx, vy };\n  }\n\n  function moveAndCheckCollision({ x, y, vx, vy, width, height }: TileData, deltaTime: number) : EngineInterface {\n    let newX = x + ( vx * (speed/100) * deltaTime );\n    let newY = y + (vy * (speed/100) * deltaTime );\n    let newVx = vx;\n    let newVy = vy;\n    let newStrategy = false;\n\n    const widthCanvas = canvasRef!.current!.width;\n    const heightCanvas = canvasRef!.current!.height;\n\n    if(newX < 0) {\n      newX = 0;\n      newVx = - vx;\n    }\n    else if(newX > (widthCanvas - width)) {\n      newX = widthCanvas - width;\n      newVx = - vx;\n    }\n\n    if(newY < 0) {\n      newY = 0;\n      newVy = - vy;\n    }\n    else if(newY > (heightCanvas - height) ) {\n      newY = heightCanvas - height;\n      newVy = - vy;\n    }\n\n    return { x: newX, y: newY, vx: newVx, vy: newVy };\n  }\n\n  function renderArtwork(context: CanvasRenderingContext2D| null) {\n    if(!context) {\n      return null;\n    }\n    context.clearRect(0,0, 1000, 1000);\n    tilesRef.current.forEach(({image, x, y, width, height}) => {\n      context.save();\n\n      // customise color\n/*      context.fillStyle = \"grey\";\n      context.fillRect(x, y, width, height);\n      context.globalCompositeOperation = \"destination-out\";*/\n      \n      context.drawImage(image, x, y, width, height);\n      context.restore();\n    })\n  }\n\n  return (\n    <canvas ref={canvasRef} className={`border-2 rounded-lg bg-${backgroundColorClass}`}>\n    </canvas>\n  );\n});\n\nexport default Canvas;\n","export default __webpack_public_path__ + \"static/media/tile_0.a06d1d38.png\";","export default __webpack_public_path__ + \"static/media/tile_1.b3ccfeca.png\";","export default __webpack_public_path__ + \"static/media/tile_2.f297709b.png\";","export default __webpack_public_path__ + \"static/media/tile_3.db41cb55.png\";","import { useRef, useEffect } from \"react\";\n\nexport default function useAnimationFrame(callback: Function) {\n  // Use useRef for mutable variables that we want to persist\n  // without triggering a re-render on their change\n  const requestRef = useRef(0);\n  const previousTimeRef = useRef(0);\n  /**\n   * The callback function is automatically passed a timestamp indicating\n   * the precise time requestAnimationFrame() was called.\n   */\n  function animate(time: number) {\n    if (previousTimeRef.current !== undefined) {\n      const deltaTime = time - previousTimeRef.current;\n      callback(deltaTime);\n    }\n    previousTimeRef.current = time;\n    requestRef.current = requestAnimationFrame(animate);\n  };\n\n  function stop() {\n    if(requestRef.current) {\n      cancelAnimationFrame(requestRef.current);\n      requestRef.current = 0;\n    }\n  }\n\n  function play() {\n    if(requestRef.current === 0) {\n      requestRef.current = requestAnimationFrame(animate);\n    }\n  }\n\n  useEffect(() => {\n    play();\n    return () => stop();\n  }, []); // Make sure the effect runs only once\n\n  return { stop, play };\n};","import React from 'react';\n\ninterface SliderInterface {\n  value: number;\n  onChange: (value: string) => void;\n  min?: number;\n  max?: number;\n  step?: number\n}\n\nfunction Slider({ value, onChange, min = 1, max = 100, step = 1 } : SliderInterface): React.ReactElement {\n  return (\n   <input type=\"range\" onChange={(event) => onChange(event.target.value)} min={min} max={max} value={value} step={step} className=\"range range-primary\"></input> \n  );\n}\n\nexport default Slider;\n","import React from 'react';\nimport Slider from \"./Slider\";\n\ninterface SliderWithLabelInterface {\n  value: number;\n  onChange: (value: string) => void;\n  min?: number;\n  max?: number;\n  step?: number;\n  label: string;\n}\n\nfunction SliderWithLabel({ value, onChange, min = 1, max = 100, step = 1, label } : SliderWithLabelInterface): React.ReactElement {\n  return (\n   <>\n     <div className=\"flex justify-between\">\n       <label className=\"text-base font-semibold\">{label}</label>\n       <p className=\"badge badge-lg\">{value}</p>\n     </div>\n     <Slider value={value} onChange={onChange} min={min} max={max} />\n    </>\n  );\n}\n\nexport default SliderWithLabel;\n","import React, { useState } from 'react';\nimport ClickAwayListener from 'react-click-away-listener';\n\nconst COLORS = ['gray', 'red','yellow', 'green', 'blue', 'indigo', 'purple', 'pink'];\nconst VARIANTS = [100, 200, 300, 400, 500, 600, 700, 800, 900];\n\ninterface ColorPickerInterface {\n  label: string;\n  initialColorClass: string;\n  onChange: (value: string) => void;\n}\n\nfunction ColorPicker({label, initialColorClass, onChange} : ColorPickerInterface) {\n  const [currentColorClass, setCurrentColorClass] = useState<string>(\"red-800\");\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const [iconColorClass, setIconColorClass] = useState<string>(\"text-white\")\n\n  function selectColor(color: string, variant: number) {\n    setCurrentColorClass(color + '-' + variant);\n    onChange(color + '-' + variant);\n    if (variant < 500) {\n      setIconColorClass(\"text-black\");\n    }\n    else {\n      setIconColorClass(\"text-white\");\n    }\n  }\n\n  function handleClickAway() {\n    setIsOpen(!isOpen);\n  }\n\n  return (\n    <div>\n      <div>\n        <label className=\"block mb-1 text-base font-semibold\">{label}</label>\n        <div className=\"flex flex-row relative\">\n          <input id=\"color-picker\" disabled className=\"w-full border border-gray-400 p-2 rounded-lg text-neutral\" value={currentColorClass} />\n          <div onClick={()=> setIsOpen(!isOpen)} className={`cursor-pointer rounded-full ml-3 my-auto h-10 w-10 flex bg-${currentColorClass}`}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\"className={`${iconColorClass} h-6 w-6 mx-auto my-auto`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01\" />\n            </svg>\n          </div>\n          {isOpen ?\n            <ClickAwayListener onClickAway={handleClickAway}>\n            <div className=\"overflow-y-scroll h-36 border-2 border-gray-300 origin-top-right absolute right-0 top-full mt-2 rounded-md shadow-lg\">\n              <div className=\"rounded-md bg-base-200 shadow-xs p-2\">\n                <div className=\"flex\">\n                  {\n                    COLORS.map(color => {\n                      return (\n                        <div>\n                        {\n                          VARIANTS.map(variant =>\n                            <div onClick={()=> selectColor(color, variant)} className={`cursor-pointer w-6 h-6 rounded-full mx-1 my-1 bg-${color}-${variant}`}></div>\n                          )\n                        }\n                        </div>\n                        );\n                    })\n                  }\n                </div>\n              </div>\n            </div>\n            </ClickAwayListener>\n            : null\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ColorPicker;\n","import React, { useState, useRef } from 'react';\n\nimport Footer from './Components/Footer';\nimport Header from './Components/Header';\nimport Canvas from './Components/Canvas';\nimport SliderWithLabel from \"./Components/SliderWithLabel\";\nimport ColorPicker from \"./Components/ColorPicker\";\n\nimport { ExternalActionInterface } from \"./interfaces\";\n\nfunction App() {\n  const [speed, setSpeed] = useState<number>(25);\n  const [play, setPlay] = useState<boolean>(true);\n  const [backgroundColorClass, setBackgroundClass] = useState<string>(\"red-800\");\n  const [nbTilesWidth, setNbTileWidth] = useState<number>(4);\n  const canvasActionsRef = useRef<ExternalActionInterface| null>(null);\n\n  function resetPosition() {\n    if(canvasActionsRef && canvasActionsRef.current) {\n      canvasActionsRef.current.resetPosition();\n    }\n  }\n\n  function resetAll() {\n    if(canvasActionsRef && canvasActionsRef.current) {\n      canvasActionsRef.current.resetAll();\n    }\n  }\n\n  function playPause() {\n    if(!canvasActionsRef || !canvasActionsRef.current) {\n      return;\n    }\n\n    if(play) {\n      canvasActionsRef.current.pause();\n    }\n    else {\n      canvasActionsRef.current.play();\n    }\n    setPlay(!play);\n  }\n\n  function resizeTiles(value: string) {\n    setNbTileWidth(parseInt(value));\n  }\n\n  return (\n    <div className=\"flex flex-col gap-5 bg-base-200 rounded-box p-2\">\n      <Header/>\n      <div className=\"card shadow-lg compact side bg-base-100\">\n        <div className=\"card-body\">\n          <div className=\"flex flex-col items-center justify-items-center gap-8\">\n            <Canvas ref={canvasActionsRef} speed={speed} backgroundColorClass={backgroundColorClass} nbTilesWidth={nbTilesWidth} />\n            <div className=\"flex flex-col gap-2 lg:w-1/3\">\n              <ColorPicker label=\"Select a background color\" initialColorClass={backgroundColorClass} onChange={(colorClass) => setBackgroundClass(colorClass)}/>\n              <button className=\"btn btn-primary\" onClick={() => playPause()}>{play ? \"⏸\" : \"▶\"}</button>\n              <SliderWithLabel label=\"Speed\" min={1} max={200} value={speed} step={0.5} onChange={(value) => setSpeed(parseInt(value))}/>\n              <SliderWithLabel label=\"Nb Tiles Width\" min={2} max={10} value={nbTilesWidth} step={1} onChange={resizeTiles}/>\n\n              <button className=\"btn btn-primary\" onClick={() => resetPosition()}>Reset Positions</button>\n              <button className=\"btn btn-primary\" onClick={() => resetAll()}>Regenerate</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}