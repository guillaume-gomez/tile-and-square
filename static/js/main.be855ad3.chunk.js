(this["webpackJsonptile-and-square"]=this["webpackJsonptile-and-square"]||[]).push([[0],{12:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(5),s=n.n(a),i=(n(12),n(2)),l=n(0);var o=function(){return Object(l.jsx)("footer",{className:"footer bg-base-300 text-base-content footer-center p-5 rounded-xl",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:" 2021 - Made By Guillaume Gomez"}),Object(l.jsx)("a",{href:"https://github.com/guillaume-gomez/wasm-game-of-life",className:"text-xs",children:"Did you enjoyed ? \ud83d\ude0a Star the project "}),Object(l.jsx)("div",{title:"Github \u2197\ufe0e",className:"items-center flex-none",children:Object(l.jsx)("a",{"aria-label":"Github",target:"_blank",href:"https://github.com/guillaume-gomez/tile-and-square",rel:"noopener",className:"normal-case btn btn-primary drawer-button btn-square",children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"inline-block w-6 h-6 fill-current",children:Object(l.jsx)("path",{d:"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z"})})})})]})})};var u=function(){return Object(l.jsxs)("div",{className:"navbar mb-2 shadow-lg bg-base-300 text-neutral-content rounded-box",children:[Object(l.jsx)("div",{className:"flex-1 px-2 mx-2",children:Object(l.jsx)("span",{className:"text-lg font-bold",children:"Tile and Square"})}),Object(l.jsx)("div",{className:"flex-none",children:Object(l.jsx)("div",{title:"Github \u2197\ufe0e",className:"items-center flex-none",children:Object(l.jsx)("a",{"aria-label":"Github",target:"_blank",href:"https://github.com/guillaume-gomez/tile-and-square",rel:"noopener",className:"normal-case btn btn-primary drawer-button btn-square",children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"inline-block w-6 h-6 fill-current",children:Object(l.jsx)("path",{d:"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z"})})})})})]})},b=n(3);var d=n(6),j=[n.p+"static/media/tile_0.a06d1d38.png",n.p+"static/media/tile_1.b3ccfeca.png",n.p+"static/media/tile_2.f297709b.png",n.p+"static/media/tile_3.db41cb55.png"],h=Object(r.forwardRef)((function(e,t){var n=e.speed,c=e.backgroundColorClass,a=e.nbTilesWidth,s=Object(r.useRef)(null),o=Object(r.useRef)([]),u=function(e){var t=Object(r.useRef)(0),n=Object(r.useRef)(0);function c(r){if(void 0!==n.current){var a=r-n.current;e(a)}n.current=r,t.current=requestAnimationFrame(c)}function a(){t.current&&(cancelAnimationFrame(t.current),t.current=0)}function s(){0===t.current&&(t.current=requestAnimationFrame(c))}return Object(r.useEffect)((function(){return s(),function(){return a()}}),[]),{stop:a,play:s}}((function(e){if(s.current){var t=s.current.getContext("2d");!function(e){var t=o.current.map((function(t){return function(e,t){var r=function(e,t){var r=e.x,c=e.y,a=e.vx,i=e.vy,l=e.width,o=e.height,u=r+a*(n/100)*t,b=c+i*(n/100)*t,d=a,j=i,h=s.current.width,f=s.current.height;u<0?(u=0,d=-a):u>h-l&&(u=h-l,d=-a);b<0?(b=0,j=-i):b>f-o&&(b=f-o,j=-i);return{x:u,y:b,vx:d,vy:j}}(e,t),c=r.x,a=r.y,i=r.vx,l=r.vy;return Object(b.a)(Object(b.a)({},e),{},{x:c,y:a,vx:i,vy:l})}(t,e)}));o.current=t}(e),function(e){if(!e)return null;e.clearRect(0,0,1e3,1e3),o.current.forEach((function(t){var n=t.image,r=t.x,c=t.y,a=t.width,s=t.height;e.save(),e.drawImage(n,r,c,a,s),e.restore()}))}(t)}})),h=u.play,f=u.stop;function m(){for(var e=s.current,t=e.width,n=e.height,r=t/a,c=n/a,l=[],u=Object(d.sample)(["horizontal","vertical","southEast","northEast","southWest","northWest"]),b=function(e){for(var t=function(t){var n=new Image;n.src=function(){var e=Math.floor(Math.random()*j.length);return j[e]}();var a=new Promise((function(a,s){n.onload=function(){var s=function(e){switch(e){case"horizontal":default:return[.1,0];case"vertical":return[0,.1];case"southEast":return[.1,.1];case"northEast":return[-.1,.1];case"southWest":return[.1,-.1];case"northWest":return[-.1,-.1]}}(u),l=Object(i.a)(s,2),o=l[0],b=l[1];a({x:e,y:t,vx:o,vy:b,width:r,height:c,image:n})}}));l.push(a)},a=0;a<n;a+=c)t(a)},h=0;h<t;h+=r)b(h);Promise.all(l).then((function(e){o.current=e}))}return Object(r.useEffect)((function(){var e=s.current;e&&(e.width=e.parentElement.offsetWidth/2,e.height=e.parentElement.offsetWidth/2,m())}),[]),Object(r.useEffect)((function(){f(),h()}),[n]),Object(r.useEffect)((function(){m()}),[a]),Object(r.useImperativeHandle)(t,(function(){return{play:function(){h()},pause:function(){f()},resetPosition:function(){!function(){if(0===o.current.length)return;for(var e=s.current,t=e.width,n=e.height,r=t/a,c=n/a,i=[],l=0,u=0;u<t;u+=r)for(var d=0;d<n;d+=c)i.push(Object(b.a)(Object(b.a)({},o.current[l]),{},{x:u,y:d})),l+=l;o.current=i}()},resetAll:function(){m()}}})),Object(l.jsx)("canvas",{ref:s,className:"border-2 rounded-lg bg-".concat(c)})}));var f=function(e){var t=e.value,n=e.onChange,r=e.min,c=void 0===r?1:r,a=e.max,s=void 0===a?100:a,i=e.step,o=void 0===i?1:i;return Object(l.jsx)("input",{type:"range",onChange:function(e){return n(e.target.value)},min:c,max:s,value:t,step:o,className:"range range-primary"})};var m=function(e){var t=e.value,n=e.onChange,r=e.min,c=void 0===r?1:r,a=e.max,s=void 0===a?100:a,i=(e.step,e.label);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"flex justify-between",children:[Object(l.jsx)("label",{className:"text-base font-semibold",children:i}),Object(l.jsx)("p",{className:"badge badge-lg",children:t})]}),Object(l.jsx)(f,{value:t,onChange:n,min:c,max:s})]})},x=n(7),v=["gray","red","yellow","green","blue","indigo","purple","pink"],g=[100,200,300,400,500,600,700,800,900];var O=function(e){var t=e.label,n=(e.initialColorClass,e.onChange),c=Object(r.useState)("red-800"),a=Object(i.a)(c,2),s=a[0],o=a[1],u=Object(r.useState)(!1),b=Object(i.a)(u,2),d=b[0],j=b[1],h=Object(r.useState)("text-white"),f=Object(i.a)(h,2),m=f[0],O=f[1];return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{className:"block mb-1 text-base font-semibold",children:t}),Object(l.jsxs)("div",{className:"flex flex-row relative",children:[Object(l.jsx)("input",{id:"color-picker",disabled:!0,className:"w-full border border-gray-400 p-2 rounded-lg text-neutral",value:s}),Object(l.jsx)("div",{onClick:function(){return j(!d)},className:"cursor-pointer rounded-full ml-3 my-auto h-10 w-10 flex bg-".concat(s),children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"".concat(m," h-6 w-6 mx-auto my-auto"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),d?Object(l.jsx)(x.a,{onClickAway:function(){j(!d)},children:Object(l.jsx)("div",{className:"overflow-y-scroll h-36 border-2 border-gray-300 origin-top-right absolute right-0 top-full mt-2 rounded-md shadow-lg",children:Object(l.jsx)("div",{className:"rounded-md bg-base-200 shadow-xs p-2",children:Object(l.jsx)("div",{className:"flex",children:v.map((function(e){return Object(l.jsx)("div",{children:g.map((function(t){return Object(l.jsx)("div",{onClick:function(){return function(e,t){o(e+"-"+t),n(e+"-"+t),O(t<500?"text-black":"text-white")}(e,t)},className:"cursor-pointer w-6 h-6 rounded-full mx-1 my-1 bg-".concat(e,"-").concat(t)})}))})}))})})})}):null]})]})})};var p=function(){var e=Object(r.useState)(25),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),s=Object(i.a)(a,2),b=s[0],d=s[1],j=Object(r.useState)("red-800"),f=Object(i.a)(j,2),x=f[0],v=f[1],g=Object(r.useState)(4),p=Object(i.a)(g,2),w=p[0],y=p[1],N=Object(r.useRef)(null);return Object(l.jsxs)("div",{className:"flex flex-col gap-5 bg-base-200 rounded-box p-2",children:[Object(l.jsx)(u,{}),Object(l.jsx)("div",{className:"card shadow-lg compact side bg-base-100",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("div",{className:"flex flex-col items-center justify-items-center gap-8",children:[Object(l.jsx)(h,{ref:N,speed:n,backgroundColorClass:x,nbTilesWidth:w}),Object(l.jsxs)("div",{className:"flex flex-col gap-2 lg:w-1/3",children:[Object(l.jsx)(O,{label:"Select a background color",initialColorClass:x,onChange:function(e){return v(e)}}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){N&&N.current&&(b?N.current.pause():N.current.play(),d(!b))},children:b?"\u23f8":"\u25b6"}),Object(l.jsx)(m,{label:"Speed",min:1,max:200,value:n,step:.5,onChange:function(e){return c(parseInt(e))}}),Object(l.jsx)(m,{label:"Nb Tiles Width",min:2,max:10,value:w,step:1,onChange:function(e){y(parseInt(e))}}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){N&&N.current&&N.current.resetPosition()},children:"Reset Positions"}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){N&&N.current&&N.current.resetAll()},children:"Regenerate"})]})]})})}),Object(l.jsx)(o,{})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root")),w()}},[[16,1,2]]]);
//# sourceMappingURL=main.be855ad3.chunk.js.map